# 숫자병합 게임 기획서 (Number Drop)

> 작성일: 2026-01-02
> 버전: 1.0

---

## 1. 프로젝트 개요

| 항목 | 내용 |
|------|------|
| 프로젝트명 | 숫자병합 게임 (Number Drop) |
| 장르 | 캐주얼 퍼즐 |
| 플랫폼 | Android, iOS, Web (PWA) |
| 벤치마크 | [Google Play - Number Drop](https://play.google.com/store/search?q=numberdrop&c=apps&hl=ko&gl=KR) |

---

## 2. 게임 규칙

### 2.1 핵심 메커니즘

| 요소 | 설명 |
|------|------|
| 블록 생성 | 화면 상단에서 숫자 블록이 생성됨 |
| 블록 이동 | 좌/우로 이동하여 위치 선택 |
| 블록 드롭 | 터치/클릭으로 블록을 아래로 떨어뜨림 |
| 블록 병합 | 같은 숫자가 인접하면 합쳐져 2배 숫자가 됨 |

### 2.2 병합 규칙

```
2 + 2 → 4
4 + 4 → 8
8 + 8 → 16
...
1024 + 1024 → 2048
```

### 2.3 연쇄 병합 (콤보)

```
[2][2][4] → [4][4] → [8]  (2연쇄)
```

- 병합 후 새로운 병합 조건 충족 시 연쇄 발생
- 연쇄 횟수에 따라 추가 점수 획득

### 2.4 점수 시스템

| 행동 | 점수 |
|------|------|
| 블록 병합 | 병합된 숫자 값 |
| 연쇄 콤보 | 기본 점수 x 콤보 배율 |
| 고득점 블록 생성 | 보너스 점수 |

### 2.5 게임 오버 조건

- 블록이 화면 최상단을 넘어갈 때
- 새 블록을 놓을 공간이 없을 때

---

## 3. 게임 모드

### 3.1 모드 종류

| 모드 | 설명 |
|------|------|
| 클래식 | 제한 없이 최고 점수 도전 |
| 타임어택 | 제한 시간 내 최고 점수 |
| 스테이지 | 목표 점수 달성 시 클리어 |
| 퍼즐 | 정해진 수 안에 목표 달성 |

### 3.2 난이도 설정

| 난이도 | 그리드 크기 | 시작 숫자 범위 |
|--------|-------------|----------------|
| Easy | 5x7 | 2, 4 |
| Normal | 5x8 | 2, 4, 8 |
| Hard | 4x8 | 2, 4, 8, 16 |

---

## 4. 아이템 시스템

| 아이템 | 효과 | 획득 방법 |
|--------|------|-----------|
| 폭탄 | 특정 영역 블록 제거 | 광고 시청 / 포인트 |
| 셔플 | 블록 위치 재배치 | 광고 시청 / 포인트 |
| 언두 | 마지막 동작 취소 | 광고 시청 / 포인트 |
| 특수 블록 | 어떤 숫자와도 병합 가능 | 연쇄 보상 |

---

## 5. 광고 정책 (사용자 친화적)

### 5.1 허용되는 광고

| 유형 | 설명 |
|------|------|
| 고정 배너 | 화면 상단/하단 고정 광고만 허용 |
| 보상형 광고 | 포인트 받기 시 광고 표시 |
| 아이템 광고 | 아이템 사용 시 광고 표시 |

### 5.2 광고 UX 원칙

- 버튼에 광고 아이콘 명시 → 사용자가 **예측 가능**
- 버튼 클릭 시에만 광고 재생 → **자발적 시청**

### 5.3 금지되는 광고

| 금지 항목 | 이유 |
|-----------|------|
| 시간 기반 자동 광고 | 게임 흐름 방해 |
| 레벨업 시 광고 | 성취감 저하 |
| 스테이지 클리어 시 광고 | 보상 경험 훼손 |
| 무조건적 광고 표시 | 사용자 이탈 유발 |

---

## 6. 광고 제거 상품 (2-Tier 모델)

### 6.1 상품 구성

| 상품명 | 가격 | 기간 | 효과 |
|--------|------|------|------|
| 체험권 | $0.99 | 7일 | 상단+하단 배너 제거 |
| 프리미엄 | $2.99 | 영구 | 상단+하단 배너 제거 |

> 보상형 광고는 상품 구매와 관계없이 항상 이용 가능 (포인트/아이템 획득용)

### 6.2 상점 화면 UI

```
┌─────────────────────────────────────┐
│  ← 뒤로         상점               │
├─────────────────────────────────────┤
│                                     │
│  광고 없이 게임을 즐기세요!          │
│                                     │
│  ┌───────────────────────────────┐  │
│  │  체험권                       │  │
│  │                               │  │
│  │  • 7일간 모든 배너 광고 제거   │  │
│  │  • 보상형 광고는 계속 이용 가능│  │
│  │                               │  │
│  │  ┌─────────────────────────┐  │  │
│  │  │      $0.99 구매하기      │  │  │
│  │  └─────────────────────────┘  │  │
│  └───────────────────────────────┘  │
│                                     │
│  ┌───────────────────────────────┐  │
│  │  프리미엄                BEST │  │
│  │                               │  │
│  │  • 평생 모든 배너 광고 제거   │  │
│  │  • 보상형 광고는 계속 이용 가능│  │
│  │  • 67% 할인 (vs 체험권 반복)  │  │
│  │                               │  │
│  │  ┌─────────────────────────┐  │  │
│  │  │      $2.99 구매하기      │  │  │
│  │  └─────────────────────────┘  │  │
│  └───────────────────────────────┘  │
│                                     │
└─────────────────────────────────────┘
```

### 6.3 전환 유도 전략

| 시점 | 액션 |
|------|------|
| 체험권 D-3 | 푸시 알림: "체험권 곧 만료!" |
| 체험권 D-1 | 인앱 팝업: 업그레이드 보너스 안내 |
| 체험권 만료 | 게임 시작 시: 프리미엄 제안 |
| 만료 후 첫 광고 | 하단 배너에 "광고 제거하기" 버튼 |

### 6.4 전환 인센티브

| 조건 | 보너스 |
|------|--------|
| 체험권 만료 전 업그레이드 | 폭탄 x3, 셔플 x3 |
| 만료 후 24시간 내 업그레이드 | 폭탄 x2 |
| 일반 구매 | 없음 |

---

## 7. UI 와이어프레임

### 7.1 메인 화면

```
┌─────────────────────────────┐
│      [상단 배너 광고]        │
├─────────────────────────────┤
│                             │
│      ╔═══════════════╗      │
│      ║  NUMBER DROP  ║      │
│      ║   숫자병합     ║      │
│      ╚═══════════════╝      │
│                             │
│      ┌───────────────┐      │
│      │   게임 시작    │      │
│      └───────────────┘      │
│      ┌───────────────┐      │
│      │   이어하기     │      │
│      └───────────────┘      │
│      ┌───────────────┐      │
│      │    랭  킹     │      │
│      └───────────────┘      │
│                             │
│   [설정]           [사운드]  │
│                             │
├─────────────────────────────┤
│      [하단 배너 광고]        │
└─────────────────────────────┘
```

### 7.2 게임 플레이 화면

```
┌─────────────────────────────┐
│      [상단 배너 광고]        │
├─────────────────────────────┤
│ [일시정지]  SCORE   [설정]   │
│            12,450           │
│           BEST:89K          │
├─────────────────────────────┤
│         NEXT: [4]           │
│              ▼              │
│  ┌───────────────────────┐  │
│  │    ┌──┐               │  │
│  │    │ 2│  ← 현재 블록   │  │
│  │    └──┘               │  │
│  │     ↓                 │  │
│  ├───┬───┬───┬───┬───┤  │
│  │   │   │   │ 4 │ 2 │  │
│  ├───┼───┼───┼───┼───┤  │
│  │   │ 8 │   │ 4 │ 2 │  │
│  ├───┼───┼───┼───┼───┤  │
│  │ 2 │ 8 │ 4 │ 8 │ 4 │  │
│  ├───┼───┼───┼───┼───┤  │
│  │ 4 │16 │ 8 │16 │ 8 │  │
│  ├───┼───┼───┼───┼───┤  │
│  │ 8 │32 │16 │32 │16 │  │
│  └───┴───┴───┴───┴───┘  │
│                             │
├─────────────────────────────┤
│  아이템 (광고 아이콘 표시)    │
│  [폭탄 3] [셔플 1] [언두 2]  │
├─────────────────────────────┤
│      [하단 배너 광고]        │
└─────────────────────────────┘
```

### 7.3 게임 오버 화면

```
┌─────────────────────────────┐
│      [상단 배너 광고]        │
├─────────────────────────────┤
│                             │
│      ╔═══════════════╗      │
│      ║  GAME  OVER   ║      │
│      ╚═══════════════╝      │
│                             │
│      ┌───────────────┐      │
│      │    SCORE      │      │
│      │    12,450     │      │
│      │               │      │
│      │  BEST: 89,200 │      │
│      └───────────────┘      │
│                             │
│      ┌───────────────┐      │
│      │  [광고] 부활   │      │
│      └───────────────┘      │
│      ┌───────────────┐      │
│      │   다시하기     │      │
│      └───────────────┘      │
│      ┌───────────────┐      │
│      │   메인으로     │      │
│      └───────────────┘      │
│                             │
├─────────────────────────────┤
│      [하단 배너 광고]        │
└─────────────────────────────┘
```

### 7.4 설정 화면

```
┌─────────────────────────────┐
│  ← 뒤로           설정       │
├─────────────────────────────┤
│                             │
│  게임 설정                   │
│  ┌─────────────────────────┐│
│  │ 연쇄 병합        [ON]   ││
│  │ 힌트 표시        [OFF]  ││
│  │ 난이도         [Normal] ││
│  └─────────────────────────┘│
│                             │
│  사운드                      │
│  ┌─────────────────────────┐│
│  │ 배경음악         [ON]   ││
│  │ 효과음           [ON]   ││
│  │ 진동             [ON]   ││
│  └─────────────────────────┘│
│                             │
│  기타                        │
│  ┌─────────────────────────┐│
│  │ 게임 규칙 보기      [→] ││
│  │ 개인정보 처리방침    [→] ││
│  │ 버전 1.0.0              ││
│  └─────────────────────────┘│
│                             │
└─────────────────────────────┘
```

### 7.5 화면 플로우

```
┌──────────┐
│ 메인화면  │
└────┬─────┘
     │
     ├──────────────┬──────────────┐
     ▼              ▼              ▼
┌──────────┐  ┌──────────┐  ┌──────────┐
│게임 시작  │  │  랭킹    │  │  설정    │
└────┬─────┘  └──────────┘  └──────────┘
     │
     ▼
┌──────────┐
│게임 플레이│◄────────────┐
└────┬─────┘              │
     │                    │
     ├────────┐           │
     ▼        ▼           │
┌──────────┐ ┌──────────┐ │
│일시정지   │ │게임 오버 │─┤
└──────────┘ └────┬─────┘ │
                  │       │
                  ├───────┘
                  ▼
             ┌──────────┐
             │  메인    │
             └──────────┘
```

---

## 8. 기술 스택

### 8.1 프론트엔드

| 구분 | 기술 |
|------|------|
| Game Engine | Phaser 3 |
| Framework | TypeScript + Vite |
| UI Library | React (메뉴/설정) |
| Styling | Tailwind CSS |
| State | Zustand |

### 8.2 백엔드

| 구분 | 기술 |
|------|------|
| Runtime | Node.js + Express |
| Database | PostgreSQL |
| Cache | Redis |
| API | REST API |

### 8.3 인프라

| 구분 | 기술 |
|------|------|
| Container | Docker + Docker Compose |
| Web Server | Nginx |
| Hosting | AWS / Vercel / Cloudflare |

### 8.4 모바일 배포

| 구분 | 기술 |
|------|------|
| PWA | Service Worker + Manifest |
| Wrapper | Capacitor |
| Store | Google Play / App Store |

### 8.5 광고/결제

| 구분 | 기술 |
|------|------|
| Ads | Google AdMob |
| Android 결제 | Google Play Billing |
| iOS 결제 | StoreKit 2 |
| Web 결제 | Stripe / PayPal |

---

## 9. 프로젝트 구조

```
number_drop/
├── docker/
│   ├── docker-compose.yml
│   ├── Dockerfile.frontend
│   └── Dockerfile.backend
├── frontend/
│   ├── src/
│   │   ├── game/
│   │   │   ├── scenes/
│   │   │   │   ├── BootScene.ts
│   │   │   │   ├── MenuScene.ts
│   │   │   │   ├── GameScene.ts
│   │   │   │   └── GameOverScene.ts
│   │   │   ├── objects/
│   │   │   │   ├── Block.ts
│   │   │   │   ├── Grid.ts
│   │   │   │   └── ScoreManager.ts
│   │   │   └── config.ts
│   │   ├── ui/
│   │   │   ├── components/
│   │   │   ├── screens/
│   │   │   └── App.tsx
│   │   ├── store/
│   │   │   ├── gameStore.ts
│   │   │   └── settingsStore.ts
│   │   ├── services/
│   │   │   ├── AdService.ts
│   │   │   ├── AudioService.ts
│   │   │   └── StorageService.ts
│   │   └── main.ts
│   ├── public/
│   │   ├── assets/
│   │   │   ├── images/
│   │   │   ├── sounds/
│   │   │   └── fonts/
│   │   └── manifest.json
│   ├── capacitor.config.ts
│   ├── package.json
│   └── vite.config.ts
├── backend/
│   ├── src/
│   │   ├── routes/
│   │   ├── services/
│   │   └── index.ts
│   ├── package.json
│   └── Dockerfile
├── nginx/
│   └── nginx.conf
└── README.md
```

---

## 10. 데이터 모델

### 10.1 광고 제거 구매

```typescript
// 구매 상품 타입
type ProductType = 'trial' | 'premium';

// 구매 정보
interface Purchase {
  id: string;
  userId: string;
  productType: ProductType;
  price: number;
  purchasedAt: Date;
  expiresAt: Date | null;  // null = 영구
  platform: 'android' | 'ios' | 'web';
  transactionId: string;
}

// 상품 정의
const PRODUCTS = {
  trial: {
    id: 'ad_removal_trial',
    name: '체험권',
    price: 0.99,
    duration: 7,  // days
  },
  premium: {
    id: 'ad_removal_premium',
    name: '프리미엄',
    price: 2.99,
    duration: null,  // permanent
  }
};
```

### 10.2 광고 제거 서비스

```typescript
class AdRemovalService {

  // 배너 표시 여부 확인
  shouldShowBanner(userId: string): boolean {
    const purchase = this.getActivePurchase(userId);

    if (!purchase) return true;

    // 영구 구매
    if (purchase.productType === 'premium') return false;

    // 체험권 유효성 확인
    if (purchase.expiresAt && purchase.expiresAt > new Date()) {
      return false;
    }

    return true;
  }

  // 남은 일수 계산
  getRemainingDays(userId: string): number | null {
    const purchase = this.getActivePurchase(userId);

    if (!purchase) return null;
    if (purchase.productType === 'premium') return Infinity;

    if (purchase.expiresAt) {
      const diff = purchase.expiresAt.getTime() - Date.now();
      return Math.ceil(diff / (1000 * 60 * 60 * 24));
    }

    return null;
  }
}
```

---

## 11. 개발 로드맵

### Phase 1: 코어 게임 (2-3주)
- 게임 엔진 설정
- 블록 생성/이동/드롭
- 병합 로직 구현
- 점수 시스템

### Phase 2: UI/UX (1-2주)
- 메인 메뉴
- 게임 화면 UI
- 설정 화면
- 반응형 디자인

### Phase 3: 부가 기능 (1-2주)
- 아이템 시스템
- 로컬 저장
- 사운드/진동
- 애니메이션

### Phase 4: 수익화 (1주)
- AdMob 연동
- 광고 정책 적용
- 광고 제거 상품 (2-Tier)
- 포인트 시스템

### Phase 5: 배포 (1주)
- PWA 설정
- Capacitor 빌드
- 스토어 등록
- 모니터링 설정

---

## 12. 스토어 설정

### 12.1 Google Play

```
상품 ID: com.numberdrop.ad_removal_trial
유형: 소모성 인앱 상품 (기간제)
가격: $0.99

상품 ID: com.numberdrop.ad_removal_premium
유형: 비소모성 인앱 상품 (영구)
가격: $2.99
```

### 12.2 App Store

```
상품 ID: ad_removal_trial
유형: Non-Renewing Subscription
가격: $0.99

상품 ID: ad_removal_premium
유형: Non-Consumable
가격: $2.99
```

---

## 13. 핵심 차별점

```
기존 게임: 광고 → 강제 노출 → 사용자 불만
본 게임:   광고 → 사용자 선택 → 보상 제공
```

**핵심 가치**: 광고 최소화 + 예측 가능한 광고 = 사용자 신뢰 확보

---

## 부록: 광고 배치 요약

| 위치 | 유형 | 표시 조건 |
|------|------|-----------|
| 상단 고정 | 배너 | 항상 표시 (구매 시 제거) |
| 하단 고정 | 배너 | 항상 표시 (구매 시 제거) |
| 아이템 버튼 | 아이콘 표시 | 아이템에 광고 표시 |
| 부활 버튼 | 아이콘 표시 | 게임오버 시 |
| 포인트 획득 | 전면 광고 | 사용자 클릭 시에만 |
